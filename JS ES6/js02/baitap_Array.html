<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bai tap Array</title>
  </head>

  <body>
    <script>
      // Tao ham xoa phan tu trung nhau trong 1 mang
      function removeDup(arr) {
        let arr2 = arr.slice();
        for (let i = 0; i < arr2.length - 1; i++) {
          for (let j = i + 1; j < arr2.length; j++) {
            if (arr2[i] == arr2[j]) {
              arr2.splice(j, 1);
              j--;
            }
          }
        }
        return arr2;
      }
      //bai 1
      console.log(
        `//Viết chương trình JavaScript để lấy một phần tử ngẫu nhiên từ một mảng`
      );
      function randomItems(arr) {
        let n = arr.length;
        let random = Math.floor(Math.random() * n);
        return arr[random];
      }
      const arr = [33, 10, 11, 7, 19, 11, 5, 27, 45, 4, 11, 33, 0, 10];
      console.log(`Mang la: ${arr}`);
      for (let index = 1; index <= 10; index++) {
        console.log(`Phan tu ngau nhien thu ${index} la: ${randomItems(arr)}`);
      }
      console.log(``);

      //bai 2
      console.log(
        `//Viết chương trình đổi chỗ ngẫu nhiên vị trí của các phần tử trong mảng`
      );
      function randomSort(arr) {
        let arr2 = arr.slice();
        let n = arr2.length;
        let random;
        let temp;
        for (let index = 0; index < n; index++) {
          random = Math.floor(Math.random() * n);
          temp = arr2[index];
          arr2[index] = arr2[random];
          arr2[random] = temp;
        }
        return arr2;
      }
      console.log(`Sap xep ngau nhien mang ${arr} "la:\n", randomSort(arr)`);
      console.log("");
      //tao mang ngau nhien
      function randomArr(n) {
        let random,
          arr = [];
        for (let i = 0; i < n; i++) {
          random = Math.floor(Math.random() * 30);
          arr.push(random);
        }
        return arr;
      }
      //bai 3
      function arrSimilarity(arr1, arr2) {
        let similarity = [];
        for (let i = 0; i < arr1.length; i++) {
          for (let j = 0; j < arr2.length; j++) {
            if (arr1[i] == arr2[j]) {
              similarity.push(arr1[i]);
              break;
            }
          }
        }
        return similarity;
      }
      let arr2 = randomArr(10);
      console.log(
        "//Viết chương trình JavaScript để lấy một mảng các phần tử xuất hiện trong cả hai mảng:"
      );
      console.log("Mang thu nhat:", arr);
      console.log("Mang thu hai:", arr2);
      arr = removeDup(arr);
      console.log(
        "Cac phan tu co trong ca 2 mang tren la:",
        arrSimilarity(arr, arr2)
      );
      console.log("");

      //bai4
      console.log(
        "//Viết một chương trình JavaScript để lấy phần tử không xuất hiện ở cả 2 mảng:"
      );
      console.log("Mang thu nhat:", arr);
      console.log("Mang thu hai:", arr2);
      function arrSymmetricDifference(arr1, arr2) {
        let arr = [];
        let arrSimi = arrSimilarity(arr1, arr2).slice();
        for (let i = 0; i < arr1.length; i++) {
          let chk = true;
          for (let j = 0; j < arrSimi.length; j++) {
            if (arr1[i] == arrSimi[j]) {
              chk = false;
              break;
            }
          }
          if (chk) {
            arr.push(arr1[i]);
          }
        }
        for (let i = 0; i < arr2.length; i++) {
          let chk = true;
          for (let j = 0; j < arrSimi.length; j++) {
            if (arr2[i] == arrSimi[j]) {
              chk = false;
              break;
            }
          }
          if (chk) {
            arr.push(arr2[i]);
          }
        }
        return arr;
      }
      console.log(
        "Cac phan tu khong co trong ca 2 mang tren la:",
        arrSymmetricDifference(arr, arr2)
      );
      console.log("");

      //bai 5
      console.log(
        "//Viết function lấy tất cả các phần tử trong cả 2 mảng mà từng đôi một khác nhau:"
      );
      console.log("Mang thu nhat:", arr);
      console.log("Mang thu hai:", arr2);
      function union(arr1, arr2) {
        let arr = arr1.slice();
        for (let i = 0; i < arr2.length; i++) {
          arr.push(arr2[i]);
        }
        let arr_new = removeDup(arr);
        return arr_new;
      }
      console.log(
        "Cac phan tu trong 2 mang tren tung doi mot khac nhau la:",
        union(arr, arr2)
      );
      console.log("");

      //bai 6
      console.log(
        "//Viết chương trình JavaScript để tạo mã màu HEX ngẫu nhiên"
      );
      function makeHexColor() {
        let str = "#";
        const strHex = "0123456789ABCDEF";
        for (let i = 0; i < 6; i++) {
          str += strHex.charAt(Math.floor(Math.random() * 16));
        }
        return str;
      }
      for (let index = 1; index <= 5; index++) {
        console.log("Ma mau ngau nhien thu", index, "la: ", makeHexColor());
      }
      console.log("");

      //bai 7
      console.log(
        "//Viết một chương trình JavaScript trả về một tập hợp con của một chuỗi"
      );
      function sub_String(s) {
        let arr = s.slice();
        let n = arr.length;
        let arr2 = [];
        for (let i = 0; i < n; i++) {
          arr2.push(arr[i]);
          let j = i + 1;
          let str = "" + arr[i];
          while (j < n) {
            str = str.concat(arr[j]);
            arr2.push(str);
            j++;
          }
        }
        return arr2;
      }
      let str = "dog";
      let str2 = "maybe";
      console.log('Tap hop con cua chuoi "', str, '" la:', sub_String(str));
      console.log('Tap hop con cua chuoi "', str2, '" la:', sub_String(str2));
      console.log("");

      //bai 8
      console.log("//Kiểm tra mảng xem có phải mảng tăng dần hay không");
      function checkArrAscending(arr) {
        for (let i = 0; i < arr.length - 1; i++) {
          if (arr[i] > arr[i + 1]) {
            return false;
          }
        }
        return true;
      }
      let arrInt = [2, 5, 10, 15, 22, 36];
      let arrInt2 = [3, 4, 7, 2, 9, 1, 0];
      console.log(
        "Kiem tra mang",
        arrInt,
        "la mang tang dan:",
        checkArrAscending(arrInt)
      );
      console.log(
        "Kiem tra mang",
        arrInt2,
        "la mang tang dan:",
        checkArrAscending(arrInt2)
      );
      console.log("");

      //bai 9
      console.log("//Kiểm tra mảng xem có phải mảng số lẻ giảm dần hay không");
      function checkOddArrDescending(arr) {
        for (let i = 0; i < arr.length - 1; i++) {
          if (arr[i] < arr[i + 1] || arr[i] % 2 == 0 || arr[i + 1] % 2 == 0) {
            return false;
          }
        }
        return true;
      }
      arrInt = [19, 15, 5, 3, 1];
      arrInt2 = [3, 5, 7, 9, 11];
      let arrInt3 = [13, 6, 5, 9, 0];
      console.log(
        "Kiem tra mang",
        arrInt,
        "la mang so le giam dan:",
        checkOddArrDescending(arrInt)
      );
      console.log(
        "Kiem tra mang",
        arrInt2,
        "la mang so le giam dan:",
        checkOddArrDescending(arrInt2)
      );
      console.log(
        "Kiem tra mang",
        arrInt3,
        "la mang so le giam dan:",
        checkOddArrDescending(arrInt3)
      );
      console.log("");

      //bai 10
      console.log(
        "//Cho 1 số nguyên, hãy viết hàm sắp xếp lại các chữ số trong số nguyên đó sao cho ra 1 số nhỏ nhất có thể (không tính số 0 đầu tiên)"
      );
      function convertMinNumber(num) {
        if (isNaN(num)) {
          return "FALSE";
        } else {
          if (num < 0) {
            return parseInt(
              "-" + num.toString().substr(1).split("").sort().reverse().join("")
            );
          }
          let arr = num.toString().split("");
          let n = arr.length;
          let so = "";
          if (n == 1) {
            return num;
          } else {
            arr.sort();
            if (arr[0] == "0") {
              let vitri = 0;
              while (arr[vitri] == "0") {
                vitri++;
              }
              let temp;
              temp = arr[vitri];
              arr[vitri] = arr[0];
              arr[0] = temp;
              so = arr.join("");
              return Number(so);
            } else {
              so = arr.join("");
              return Number(so);
            }
          }
        }
      }
      let a = [11000, 0, 9, 999108234567, "7749a", 312, 11000020305, -123045];
      for (let index = 0; index < a.length; index++) {
        console.log(
          a[index],
          "chuyen thanh so nho nhat co the la:",
          convertMinNumber(a[index])
        );
      }
      console.log("");

      //bai 11
      console.log(
        "//Viết chương trình JavaScript để tạo mã màu RBG ngẫu nhiên"
      );
      function random_rgb_color_code() {
        let str = "(";
        for (let i = 0; i < 3; i++) {
          str += Math.floor(Math.random() * 256).toString();
          if (i < 2) {
            str += ",";
          }
        }
        str.length -= 1;
        str += ")";
        return str;
      }
      for (let index = 1; index <= 5; index++) {
        console.log(
          "Ma mau RGB ngau nhien thu",
          index,
          "la: ",
          random_rgb_color_code()
        );
      }
      console.log("");

      //bai 12
      let arr3 = randomArr(20);
      console.log("Mang la:", arr3);
      console.log(
        "//Viết chương trình remove những phần tử bị trùng nhau trong mảng:"
      );
      console.log(
        "Xoa cac phan tu trung nhau cua mang tren la:",
        removeDup(arr3)
      );

      //bai 13
      function findDuplicate(arr1) {
        let arr2 = [];
        if (arr1.length < 1) return arr;
        for (let i = 0; i < arr1.length - 1; i++) {
          for (let j = i + 1; j < arr1.length; j++) {
            if (arr1[i] == arr1[j]) {
              arr2.push(arr1[i]);
              break;
            }
          }
        }
        return removeDup(arr2);
      }
      console.log(
        "//Viết chương trình tìm những phần tử bị trùng nhau trong mảng:"
      );
      console.log(
        "Cac phan tu trung nhau cua mang tren la:",
        findDuplicate(arr3)
      );
      console.log("");

      //bai 14
      console.log(
        "//Viết function trả về true nếu chuỗi trong phần tử đầu tiên của mảng chứa tất cả các chữ cái của chuỗi trong phần tử thứ hai"
      );
      function mutation(s1, s2) {
        s1 = s1.toLowerCase();
        let a2 = s2.toLowerCase().split("");
        for (let i = 0; i < a2.length; i++) {
          if (s1.indexOf(a2[i]) < 0) {
            return false;
          }
        }
        return true;
      }
      let s1 = "hello";
      let s2 = "hey";
      let s3 = "Mary";
      let s4 = "Aarmy";
      console.log(
        '"',
        s1,
        '" chua cac chu cai cua chuoi "',
        s2,
        '":',
        mutation(s1, s2)
      );
      console.log(
        '"',
        s3,
        '" chua cac chu cai cua chuoi "',
        s4,
        '":',
        mutation(s3, s4)
      );
      console.log("");

      //bai 15
      console.log(
        "//Trả về chỉ số thấp nhất mà tại đó giá trị (đối số thứ hai) sẽ được chèn vào một mảng (đối số đầu tiên) khi nó đã được sắp xếp"
      );
      function getIndex(arr, x) {
        var arr2 = arr.slice();
        arr2.sort(function (a, b) {
          return a - b;
        });
        for (let i = 0; i < arr.length; i++) {
          if (arr2[i] >= x) {
            return i;
          }
        }
        return arr.length;
      }
      let a1 = [10, 20, 30, 40, 50];
      let x1 = 35;
      let a2 = [5, 10, 3];
      let x2 = 3;
      let a3 = [50, 15, 30];
      let x3 = 300;
      console.log("Vi tri cua", x1, "trong mang", a1, "la:", getIndex(a1, x1));
      console.log("Vi tri cua", x2, "trong mang", a2, "la:", getIndex(a2, x2));
      console.log("Vi tri cua", x3, "trong mang", a3, "la:", getIndex(a3, x3));
      console.log("");

      //bai 16
      console.log(
        "// Viết function chia mảng thành các mảng con có độ dài bằng kích thước (đối số thứ hai) và trả về chúng dưới dạng mảng hai chiều."
      );
      function chunkArrayInGroups(arr, x) {
        let n = arr.length;
        let sub_arr = n % x;
        if (x <= 0 || n == 0 || x > n) {
          return "FALSE";
        } else {
          let num_row = parseInt(n / x);
          let arr2D = new Array();
          for (let j = 0; j < num_row; j++) {
            arr2D[j] = new Array();
          }
          for (let i = 0; i < x; i++) {
            for (let j = 0; j < num_row; j++) {
              arr2D[j].push(arr[j * x + i]);
            }
          }
          if (sub_arr != 0) {
            let arr1 = [];
            for (let i = 0; i < sub_arr; i++) {
              arr1.push(arr[n - sub_arr + i]);
            }
            arr2D.push(arr1);
          }
          return arr2D;
        }
      }
      let div1 = 1;
      let div2 = 2;
      let div3 = 3;
      let div4 = 6;
      let arr_1 = ["a", "b", "c", "d"];
      let arr_2 = [0, 1, 2, 3, 4, 5, 6];
      let arr_3 = [];
      let arr_4 = ["asd", 5, "", [1, 2, 3, 4], "2", { name: "Ha", age: 26 }];
      console.log(
        "Chia",
        arr_1,
        "thanh mang hai chieu ma moi mang co",
        div1,
        "phan tu la:",
        chunkArrayInGroups(arr_1, div1)
      );
      console.log(
        "Chia",
        arr_2,
        "thanh mang hai chieu ma moi mang co",
        div2,
        "phan tu la:",
        chunkArrayInGroups(arr_2, div2)
      );
      console.log(
        "Chia",
        arr_2,
        "thanh mang hai chieu ma moi mang co",
        div3,
        "phan tu la:",
        chunkArrayInGroups(arr_2, div3)
      );
      console.log(
        "Chia",
        arr_3,
        "thanh mang hai chieu ma moi mang co",
        div3,
        "phan tu la:",
        chunkArrayInGroups(arr_3, div3)
      );
      console.log(
        "Chia",
        arr_4,
        "thanh mang hai chieu ma moi mang co",
        div2,
        "phan tu la:",
        chunkArrayInGroups(arr_4, div2)
      );
      console.log("");
      //end
    </script>
  </body>
</html>
